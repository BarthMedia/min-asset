(()=>{let e='[fs-cmsfilter-element="list"]',t='[fs-cmsload-element="page-button"]';$('[bmg-element="Results Wrapper"]').each(function(){let n=$(this),l=n.find('[bmg-element="Results Number"]'),i=n.find('[bmg-element="Results Gramma Span"]'),h=n.find('[bmg-element="Results Gramma No Search Span"]'),s=n.find('[bmg-element="Results Query"]'),f=$(e),r=$(".w-pagination-wrapper"),a=r.find(".w-page-count"),m=$('[fs-cmsfilter-element="filters"]'),o=m.find('input[type="text"]'),c=m.find(".w-checkbox, .w-radio"),d=!1;function g(){console.log("I work !");let e=f.children().length,n=o.val();!1==d?e<100?l.text(e):l.text("99+"):1!=r.find(t).length?(l.text(`${e}+`),e=2):l.text(`${e}`),1!=e?i.show():i.hide(),""!=n?(h.show(),s.show()):(h.hide(),s.hide()),s.text(n)}if(o.on("input propertychange",()=>{setTimeout(g,301)}),c.add(r).click(()=>{setTimeout(g,301)}),r.length>0){let p=""!=a.text()?parseInt(a.text().split(" / ")[1]):1,u=f.children().length;p>1&&function n(){let l=r.find(t),i=l.length;i==p?function t(n){fetch(window.location.href.split("?")[0]+n.attr("href")).then(e=>e.text()).then(t=>{d=u*(p-1)+$(e).children().length,g()})}(l.eq(i-1)):setTimeout(n,100)}()}g()})})();
