(()=>{autoCreateDotsAttribute="bmg-data-auto-create-dots",animationTimeAttribute="bmg-uwsc-animation-time",cssShowAttribute="bmg-data-css-show",cssHideAttribute="bmg-data-css-hide";function t(){$('[bmg-uwsc = "Slider"]').each(function(){let t=$(this),i=t.find('[bmg-uwsc = "Mask"]'),s=i.children().not('[bmg-uwsc = "Not A Slide"]');$left=t.find('[bmg-uwsc = "Left Arrow"]'),$right=t.find('[bmg-uwsc = "Right Arrow"]'),$dot=($nav=t.find('[bmg-uwsc = "Slide Nav"]')).children().eq(1).clone(),$currentDot=$nav.children().eq(0).css({cursor:"default"}).clone();let n=t.attr("bmg-data-snapping")||"true",c=parseFloat(t.attr("bmg-data-snapping-delay")||150),r=parseFloat(t.attr("bmg-data-snap-call-multiplier")||.5),o=parseFloat(t.attr(animationTimeAttribute)||animationTimeDefault),l=a(t,cssShowAttribute,{...cssShowDefault}),d=a(t,cssHideAttribute,{...cssHideDefault});void 0==l.duration&&(l.duration=o/1e3),void 0==d.duration&&(d.duration=o/1e3);let u=$dot.attr("class"),f=$currentDot.attr("class"),p=s.length,h=0,g,m,b,_,w,j;if(gsap.set($left[0],{...d,duration:0}),p<=1&&gsap.set($right[0],{...d,duration:0}),"false"!=$nav.attr(autoCreateDotsAttribute)){$nav.empty(),$nav.append($currentDot);for(let y=1;y<p;y++)$nav.append($dot.clone())}let v=$nav.children();function E(){m=[],s.each(function(t){m.push({single:$(this).outerWidth()})}),b=parseFloat(i.css("padding-left")),_=parseFloat(i.css("padding-right")),w=0,m.forEach(t=>{w+=t.single}),j=Math.round((i[0].scrollWidth-w-b-_)/(p-1));let t=0;m.forEach((e,a)=>{a?(t+=e.single+j,e.joint=t):e.joint=0});g=e(i[0].scrollWidth-i[0].clientWidth,m),v.each(function(t){t>g?gsap.set($(this)[0],{...d}):gsap.set($(this)[0],{...l})})}E(),$(window).resize(E);let S;function k(t,e=1){clearTimeout(S),i.stop().animate({scrollLeft:m[t].joint},o*e)}i.scroll(function(){(h=e(i.scrollLeft(),m))<=0?gsap.to($left[0],d):h>=g?gsap.to($right[0],d):(gsap.to($left[0],l),gsap.to($right[0],l)),v.removeClass(f).addClass(u).css({cursor:"pointer"}),v.eq(h).removeClass(u).addClass(f).css({cursor:"default"}),"true"==n&&(clearTimeout(S),h<g&&(S=setTimeout(()=>{k(h,r)},c)))}),$left.click(()=>{h>0&&h--,k(h)}),$right.click(()=>{h<g&&h++,k(h)}),v.each(function(t){$(this).click(()=>{k(t)})})})}function e(t,e){let a,i;return e.forEach((e,s)=>{if(void 0==a)a=Math.abs(e.joint-t),i=s;else{let n=Math.abs(e.joint-t);n<a&&(a=n,i=s)}}),i}function a(t,e,a,s=!0){return"{}"==(t.attr(e)||"{}")?a:JSON.parse(i(t.attr(e),!0))}function i(t,e=!0){let a=s(t.replace(", ",",")).split(","),i="",n=a.length-1;return(a.forEach((t,e)=>{t.replace(/\'/g,"").replace(": ",":").split(":").forEach((t,e)=>{i+=`"${t}"${e>0?"":": "}`}),i+=e<n?", ":""}),e)?`{${i}}`:i}function s(t){return t.substring(1).slice(0,-1)}animationTimeDefault=350,cssShowDefault={opacity:1,cursor:"pointer"},cssHideDefault={opacity:.5,cursor:"default"},jQuery.loadScript=function(t,e){jQuery.ajax({url:t,dataType:"script",success:e,async:!0})},"undefined"==typeof gsap?$.loadScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js",function(){t()}):t()})();
